<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formation Javascript Ecmascript Inititation</title>
    <link rel="stylesheet" href="../css/bootstrap.css" />
    <script src="../js/bootstrap.bundle.js"></script>
    <link rel="stylesheet" href="../css/style.css" />
    <script src="../js/script.js"></script>
    <script>
        loaded(function(){
            let message = s('#message');
            s('a#retourAccueil').addEventListener('click', function(event){
                console.log(event.target);

                event.preventDefault();
                message.innerHTML = '<b>Vous ne pouvez pas cliquer sur ce lien</b>'
            });

            let listeItem = sAll('ul#liste li a');
            
            listeItem.forEach(function(item){
                item.addEventListener('click', function(event){
                    event.preventDefault();
                    console.log(this);
                    console.log(this.dataset.url);
                });
            });

            let paragraphes = sAll('p:not(.showP)');    // on récupère une collection des tous 
                                                        // les paragraphes sauf ceux possédant 
                                                        // la classe showP
            console.log(paragraphes);
            let affichage = s('p.showP');
            paragraphes.forEach(function(paragraphe){
                paragraphe.addEventListener('mouseover', function(){
                    affichage.innerHTML = this.innerHTML;
                });
            });

            // image over
            let imgOver = s('#imgOver');
            imgOver.addEventListener('mouseover', function(){
                imgOver.setAttribute('src', '../images/pip-boy-thumb-up.png');
                imgOver.setAttribute('alt', 'Pouce en l\'air');
                //imgOver.classList.add('bordure-rouge');
                imgOver.classList.toggle('bordure-rouge');
            });

            imgOver.addEventListener('mouseout', function(){
                imgOver.setAttribute('src', '../images/pip-boy-thumb-down.png');
                imgOver.removeAttribute('alt');
                //imgOver.classList.remove('bordure-rouge');
                imgOver.classList.toggle('bordure-rouge');
            });
        });
    </script>
</head>

<body>
    <header class="bg-light text-center">
        <h1>Formation Javascript Ecmascript</h1>
    </header>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="https://github.com/nicoduflot/2022-01-03-js-init" target="_blank">GitHub</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="../">Accueil</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Introduction
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <li><a class="dropdown-item" href="../intro/index.html">Introduction</a></li>
                            <li><a class="dropdown-item" href="../intro/tableau.html">Tableaux</a></li>
                            <li><a class="dropdown-item" href="../intro/fonction.html">Fonctions</a></li>
                            <li>
                                <a class="dropdown-item" href="../intro/destructuration.html">
                                    La destructuration
                                </a>
                            </li>
                            <li><a class="dropdown-item" href="../intro/storage.html">Storage</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Interractions DOM
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <li><a class="dropdown-item" href="../dom/index.html">Introduction</a></li>
                            <li><a class="dropdown-item" href="../dom/dom.html">Créer dans le DOM</a></li>
                            <li><a class="dropdown-item" href="../dom/css.html">DOM & CSS</a></li>
                            <li><a class="dropdown-item" href="../dom/dataset.html">Le dataset</a></li>
                            <li><a class="dropdown-item" href="../dom/td.html">Table de matière</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <main class="container">
        <section class="row">
            <article class="col-sm-12">
                <header>
                    <h2>le DOM : Document Object Model</h2>
                </header>
                <main>
                    <p>
                        Le DOM nous permet de repérer, analyser, modifier et supprimer des éléments dans la page HTML.
                    </p>
                    <p>
                        Il faut que tous les éléments soient chargés avant de pouvoir agir sur eux 
                        avec le JS. On écoute alors l'évènement de la fenêtre (window) DOMContentLoaded qui survient 
                        quand tous les éléments de la page ont été chargés.
                    </p>
                    <p>
                        <span class="texte-rouge">Le lien suivant est surveillé</span> après le chargement de la page, si on clique dessus, il est "désactivé" 
                        (sont comportement par défaut est annulé par le JS) et un message apparaît en dessous.
                        <a href="../" id="retourAccueil">Lien</a><br />
                        <span id="message"></span>
                    </p>
                    <ul id="liste">
                        <li><a href="#" data-url="../resource/info01.txt">Item 1</a></li>
                        <li><a href="#" data-url="https://jsonplaceholder.typicode.com/posts">Posts</a></li>
                        <li><a href="#" data-url="../resource/info03.txt">Item 3</a></li>
                        <li><a href="#" data-url="../resource/info04.txt">Item 4</a></li>
                    </ul>
                    <h3>Agir sur le DOM</h3>
                    <p>
                        Pour agir sur le DOM il faut :
                    </p>
                    <ul>
                        <li>La page doit ête chargée</li>
                        <li>Connaître le sélecteur de l'élément surveillé</li>
                        <li>Abonner l'élément à un écouteur d'évènement</li>
                    </ul>
                    <p>
                        L'écouteur d'évènement déclenchera l'action programmée quand l'évènement surveillé 
                        sur un élément est déclenché.
                    </p>
                    <p class="showP">

                    </p>
                    <img src="../images/pip-boy-thumb-down.png" width="200" id="imgOver" />
                </main>
            </article>
        </section>
    </main>
    <footer class="bg-light text-center">
        &copy; Dawan JAN - 2022
    </footer>
    <script>
        console.log('fin du chargement de la page');
    </script>
</body>

</html>